(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5cd9d886"],{8688:function(e,t,s){"use strict";var a=s("bd2c"),o=s.n(a);o.a},bd2c:function(e,t,s){},fe81:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-row",[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"panel",attrs:{id:"tree"}},[s("panel-title",{attrs:{title:e.projectName}}),s("div",{staticClass:"panel-body"},[s("el-tree",{attrs:{data:e.tree,props:e.defaultProps},on:{"node-click":e.onNodeClick}})],1)],1)]),s("el-col",{attrs:{span:20}},[s("div",{staticClass:"panel m-l-md"},[s("panel-title",{attrs:{title:e.basename(e.activeFile)}},[e.activeFile?s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.onRenameFile}},[s("i",{staticClass:"fa fa-edit"}),e._v("\n\t\t\t\t\t"+e._s(e.$lang.buttons.rename)+"\n\t\t\t\t")]):e._e(),e.activeFile?s("el-button",{attrs:{size:"mini",type:"info"},on:{click:e.onCreateFile}},[s("i",{staticClass:"fa fa-plus"}),e._v("\n\t\t\t\t\t"+e._s(e.$lang.buttons.create)+"\n\t\t\t\t")]):e._e(),e.activeFile?s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:e.onDeleteFile}},[s("i",{staticClass:"fa fa-close"}),e._v("\n\t\t\t\t\t"+e._s(e.$lang.buttons.delete)+"\n\t\t\t\t")]):e._e()],1),s("div",{staticClass:"panel-body"},[s("codemirror",{attrs:{options:e.editorOptions},on:{input:e.onEditorCodeChange},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1)],1)])],1)},o=[],r=(s("28a5"),s("7f7f"),s("eee4")),n=s("8f94"),i=(s("7a7a"),s("a7be"),s("9b74"),s("3c98"),s("991c"),s("92f1"),s("2768"),s("832b"),s("111b"),s("9a48"),s("10b2"),s("31c5"),s("9948"),s("b933"),s("f6b6"),s("697eb"),s("aedd"),s("164b"),s("4895"),s("cbc8"),s("8d70"),s("9f09"),s("a2c1"),s("7b00"),s("47ac"),s("d69f"),s("959b"),s("44d5"),s("db91"),s("1b63"),s("f9d4"),s("ffda"),s("693d"),{name:"projectEdit",data:function(){return{projectName:this.$route.params.name,clientData:null,loading:!0,tree:[],defaultProps:{children:"children",label:"label"},activeFile:null,activeNode:null,code:"Please Choose File from Left to Edit.",modeMap:{py:"text/x-python",js:"text/javascript",html:"text/html",vue:"text/x-vue",md:"text/x-markdown",scss:"text/x-sass",css:"text/x-css",php:"application/x-httpd-php"},editorOptions:{tabSize:4,mode:"text/javascript",theme:"monokai",lineNumbers:!0,styleActiveLine:!0,line:!0,keyMap:"sublime",extraKeys:{Tab:"autocomplete"},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],styleSelectedText:!0,highlightSelectionMatches:{showToken:/\w/,annotateScrollbar:!0}}}},components:{PanelTitle:r["a"],codemirror:n["codemirror"]},created:function(){this.getProjectTree(this.projectName)},methods:{getProjectTree:function(e){var t=this;this.$http.get(this.formatString(this.$store.state.url.project.tree,{name:e})).then(function(e){var s=e.data;if(t.tree=s,t.tree.length>0){var a=t.tree[t.tree.length-1];t.onNodeClick(a)}}).catch(function(){t.$message.error(t.$store.getters.$lang.messages.errorLoad)})},onNodeClick:function(e){this.activeNode=e,this.onChangeCode(e),this.activeFile=this.join(this.activeNode.path,this.activeNode.label)},onChangeCode:function(e){var t=this,s=this.activeNode.label.split("."),a=s[s.length-1];this.editorOptions.mode=this.modeMap[a],e.children||this.$http.post(this.$store.state.url.project.fileRead,e).then(function(e){var s=e.data;t.code=s}).catch(function(){t.$message.error(t.$store.getters.$lang.messages.errorLoad)})},onRenameFile:function(){var e=this;this.$prompt(this.$store.getters.$lang.titles.renameFile,this.$store.getters.$lang.buttons.confirm,{confirmButtonText:this.$store.getters.$lang.buttons.yes,cancelButtonText:this.$store.getters.$lang.buttons.no,inputValue:this.activeNode.label,inputPattern:/[^\/\s]/,inputErrorMessage:this.$store.getters.$lang.messages.errorFormat}).then(function(t){var s=t.value;e.$http.post(e.$store.state.url.project.fileRename,{path:e.activeNode.path,pre:e.activeNode.label,new:s}).then(function(){e.$message.success(e.$store.getters.$lang.messages.successSave),e.getProjectTree(e.projectName)}).catch(function(){e.$message.error(e.$store.getters.$lang.messages.errorSave)})})},onCreateFile:function(){var e=this;this.$prompt(this.$store.getters.$lang.titles.createFile,this.$store.getters.$lang.buttons.confirm,{confirmButtonText:this.$store.getters.$lang.buttons.yes,cancelButtonText:this.$store.getters.$lang.buttons.no,inputValue:this.activeNode.label,inputPattern:/[^\/\s]/,inputErrorMessage:this.$store.getters.$lang.messages.errorFormat}).then(function(t){var s=t.value;e.$http.post(e.$store.state.url.project.fileCreate,{path:e.activeNode.path,name:s}).then(function(){e.$message.success(e.$store.getters.$lang.messages.successSave),e.getProjectTree(e.projectName)}).catch(function(){e.$message.error(e.$store.getters.$lang.messages.errorSave)})})},onDeleteFile:function(){var e=this;this.$confirm(this.$store.getters.$lang.messages.confirm,this.$store.getters.$lang.buttons.confirm,{confirmButtonText:this.$store.getters.$lang.buttons.yes,cancelButtonText:this.$store.getters.$lang.buttons.no,type:"warning"}).then(function(){e.$http.post(e.$store.state.url.project.fileDelete,{path:e.activeNode.path,label:e.activeNode.label}).then(function(){e.$message.success(e.$store.getters.$lang.messages.successDelete),e.getProjectTree(e.projectName)}).catch(function(){e.$message.error(e.$store.getters.$lang.messages.errorDelete)})})},onEditorCodeChange:function(e,t){var s=this;this.$http.post(this.$store.state.url.project.fileUpdate,{code:e,path:this.activeNode["path"],label:this.activeNode["label"]}).then(function(){t&&t()}).catch(function(){s.$message.error(s.$store.getters.$lang.messages.errorDelete)})}}}),l=i,c=(s("8688"),s("2877")),h=Object(c["a"])(l,a,o,!1,null,null,null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-5cd9d886.b175c193.js.map