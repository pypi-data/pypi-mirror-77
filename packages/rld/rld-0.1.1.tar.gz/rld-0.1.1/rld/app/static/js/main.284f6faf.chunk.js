(this.webpackJsonprld=this.webpackJsonprld||[]).push([[0],{74:function(e,t,n){e.exports=n(90)},79:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(25),s=n.n(i),o=n(7),c=n(8),l=n(32),u=n(10),h=n(9),d=(n(79),n(80),n(40)),p=n(53),m=n(19),f=n.n(m),v=n(22),w=n(26),y=n(55),b=n(42),g=n(21),T=n(29),E=n(31),j=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"isTrajectoryLoaded",value:function(){return null!==this.props.currentTrajectory}},{key:"isTimestepLoaded",value:function(){return null!==this.props.currentTimestep}},{key:"isPlaying",value:function(){return null!==this.props.playing}},{key:"trajectoryLength",value:function(){return this.isTrajectoryLoaded()?this.props.currentTrajectory.timesteps.length:0}},{key:"lastValidTrajectoryIndex",value:function(){return this.isTrajectoryLoaded()?this.trajectoryLength()-1:0}},{key:"render",value:function(){var e=this;return a.a.createElement(v.a,{inline:!0},a.a.createElement(v.a.Row,null,a.a.createElement(w.a,null,a.a.createElement(v.a.Group,{controlId:"buttons"},a.a.createElement(y.a,{"aria-label":"Control buttons"},a.a.createElement(b.a,{variant:"light",as:y.a,title:"Trajectory: ".concat(this.props.currentTrajectoryIndex)},this.props.trajectories.map((function(t,n){return a.a.createElement(g.a.Item,{eventKey:n.toString(),key:n,onSelect:function(t){return e.props.fetchTrajectory(f.a.parseInt(t))}},n)}))),a.a.createElement(T.a,{variant:"light",disabled:!this.isTrajectoryLoaded(),onClick:this.props.rewindToBeginning},a.a.createElement(E.MdFirstPage,null)),a.a.createElement(T.a,{variant:"light",disabled:!this.isTrajectoryLoaded(),onClick:this.props.rewindToPrevious},a.a.createElement(E.MdChevronLeft,null)),a.a.createElement(T.a,{variant:"light",disabled:!this.isTrajectoryLoaded(),onClick:this.props.togglePlaying},this.isPlaying()?a.a.createElement(E.MdPause,null):a.a.createElement(E.MdPlayArrow,null)),a.a.createElement(T.a,{variant:"light",disabled:!this.isTrajectoryLoaded(),onClick:this.props.rewindToNext},a.a.createElement(E.MdChevronRight,null)),a.a.createElement(T.a,{variant:"light",disabled:!this.isTrajectoryLoaded(),onClick:this.props.rewindToEnd},a.a.createElement(E.MdLastPage,null))))),a.a.createElement(w.a,null,a.a.createElement(v.a.Group,{controlId:"timestep"},a.a.createElement(v.a.Label,{column:!0},f.a.padStart(f.a.toString(this.props.currentTimestepIndex),5,"0"),"/",f.a.padStart(f.a.toString(this.lastValidTrajectoryIndex()),5,"0")),a.a.createElement(w.a,null,a.a.createElement(v.a.Control,{type:"range",max:this.lastValidTrajectoryIndex(),value:this.props.currentTimestepIndex,onChange:function(t){return e.props.rewindToPosition(f.a.toInteger(t.target.value))},disabled:!this.isTrajectoryLoaded()}))))))}}]),n}(a.a.Component);j.defaultProps={trajectories:[],currentTrajectoryIndex:0,currentTrajectory:null,currentTimestepIndex:0,currentTimestep:null,playing:null,fetchTrajectory:null,rewindToBeginning:null,rewindToPrevious:null,rewindToNext:null,rewindToEnd:null,rewindToPosition:null,togglePlaying:null};var k=j,I=n(52),P=n(11),A=n(3),O=n(66),L=function(){function e(t,n,r){Object(o.a)(this,e),this.width=t,this.height=n,this.pixelToColor=r,this.canvas=document.createElement("canvas"),this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this.ctx=this.canvas.getContext("2d"),this.buffer=new Uint8ClampedArray(this.width*this.height*4),this.imageData=new ImageData(this.buffer,this.width,this.height)}return Object(c.a)(e,[{key:"encode",value:function(e){for(var t=0;t<this.height;t++)for(var n=0;n<this.width;n++){var r=4*(n*this.width+t),a=this.pixelToColor(e[n][t]);this.buffer[r]=255*a.r,this.buffer[r+1]=255*a.g,this.buffer[r+2]=255*a.b,this.buffer[r+3]=255}return this.imageData.data.set(this.buffer),this.ctx.putImageData(this.imageData,0,0),this.canvas.toDataURL()}}]),e}();function x(e){return e[0]}function C(e){var t=e/255;return(new A.c).setRGB(t,t,t)}var N=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"domElement",value:function(){throw new Error("Not implemented")}},{key:"attributationViewerType",value:function(){throw new Error("Not implemented")}},{key:"resize",value:function(e,t){throw new Error("Not implemented")}},{key:"update",value:function(e){console.warn("Calling update() method, which is not implemented.")}},{key:"stringifyAction",value:function(e){return JSON.stringify(e)}},{key:"iterate",value:function(e,t){throw new Error("Not implemented")}}]),e}(),F=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e,r){var a;return Object(o.a)(this,n),(a=t.call(this)).width=100,a.height=100,a.obsWidth=e,a.obsHeight=r,a.obsImage=document.createElement("img"),a.obsImage.setAttribute("class","obs-image"),a.obsImage.setAttribute("alt","Observation"),a.obsImage.setAttribute("width",a.width),a.obsImage.setAttribute("height",a.height),a.encoder=new L(a.obsWidth,a.obsHeight,(function(e){return C(x(e))})),a}return Object(c.a)(n,[{key:"domElement",value:function(){return this.obsImage}},{key:"attributationViewerType",value:function(){return"image"}},{key:"resize",value:function(e,t){this.width=e,this.height=t,this.obsImage.setAttribute("width",this.width),this.obsImage.setAttribute("height",this.height)}},{key:"update",value:function(e){var t=e.obs;this.obsImage.setAttribute("src",this.encoder.encode(t))}},{key:"iterate",value:function(e,t){for(var n=[],r=0;r<this.obsHeight;r++)for(var a=0;a<this.obsWidth;a++)for(var i=0;i<4;i++)n.push({label:"pixel at (".concat(r,", ").concat(a,", ").concat(i,")"),rawValue:e[r][a][i],realValue:e[r][a][i],realValueUnit:"",rawAttributation:t.raw[r][a][i],normalizedAttributation:t.normalized[r][a]});return n}}]),n}(N),H=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n),(e=t.call(this)).cart=new A.j(new A.a(n.CART_LENGTH,n.CART_HEIGHT,n.CART_WIDTH),new A.k({color:16777215}));var r=new A.j(new A.a(n.POLE_LENGTH,n.POLE_HEIGHT,n.POLE_WIDTH),new A.k({color:16777215}));return r.position.set(0,n.POLE_HEIGHT/2,0),e.pole=new A.f,e.pole.position.set(0,0,0),e.pole.add(r),e.axle=new A.g((new A.b).setFromPoints([new A.r(-20,0,0),new A.r(20,0,0)]),new A.h({color:16777215})),e.scene.add(e.cart),e.scene.add(e.pole),e.scene.add(e.axle),e}return Object(c.a)(n,[{key:"update",value:function(e){var t=e.obs,n=t[0],r=t[2];this.cart.position.set(n,0,0),this.pole.position.set(n,0,0),this.pole.rotation.z=r}},{key:"centerOfScene",value:function(){return new A.r(0,2,0)}},{key:"cameraInitialPosition",value:function(){return new A.r(0,3,5)}},{key:"lightPosition",value:function(){return new A.r(0,5,10)}},{key:"stringifyAction",value:function(e){return 0===e?"LEFT":"RIGHT"}},{key:"iterate",value:function(e,t){return[{label:"cart position",rawValue:e[0],realValue:e[0],realValueUnit:"m",rawAttributation:t.raw[0],normalizedAttributation:t.normalized[0]},{label:"cart velocity",rawValue:e[1],realValue:e[1],realValueUnit:"m/s",rawAttributation:t.raw[1],normalizedAttributation:t.normalized[1]},{label:"pole angle",rawValue:e[2],realValue:e[2],realValueUnit:"rad",rawAttributation:t.raw[2],normalizedAttributation:t.normalized[2]},{label:"pole angular velocity",rawValue:e[3],realValue:e[3],realValueUnit:"rad/s",rawAttributation:t.raw[3],normalizedAttributation:t.normalized[3]}]}}]),n}(function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).width=600,e.height=400,e.scene=new A.n,e.camera=new A.l(75,e.width/e.height,.1,1e3),e.renderer=new A.s({antialias:!0}),e.renderer.setSize(e.width,e.height),e.light=new A.d(16777215,1.5),e.light.position.fromArray(e.lightPosition().toArray()),e.scene.add(e.light),e.controls=new O.a(e.camera,e.domElement()),e.controls.object.position.fromArray(e.cameraInitialPosition().toArray()),e.controls.target=e.centerOfScene(),e.animate(),e}return Object(c.a)(n,[{key:"domElement",value:function(){return this.renderer.domElement}},{key:"attributationViewerType",value:function(){return"table"}},{key:"resize",value:function(e,t){this.width=e,this.height=t,this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)}},{key:"centerOfScene",value:function(){return new A.r(0,0,0)}},{key:"cameraInitialPosition",value:function(){return new A.r(5,5,5)}},{key:"lightPosition",value:function(){return new A.r(-5,5,5)}},{key:"animate",value:function(){requestAnimationFrame(this.animate.bind(this)),this.controls.update(),this.renderer.render(this.scene,this.camera)}}]),n}(N));H.CART_LENGTH=3,H.CART_WIDTH=1,H.CART_HEIGHT=1,H.POLE_LENGTH=.25,H.POLE_WIDTH=1.1,H.POLE_HEIGHT=3;n(86);var R=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).sceneRef=a.a.createRef(),r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.isFullMode()?this.props.viewer.resize(600,400):this.props.viewer.resize(this.sceneRef.current.offsetWidth,this.sceneRef.current.offsetHeight),this.sceneRef.current.appendChild(this.props.viewer.domElement())}},{key:"componentWillUnmount",value:function(){this.sceneRef.current.removeChild(this.props.viewer.domElement())}},{key:"isFullMode",value:function(){return"full"===this.props.mode}},{key:"render",value:function(){return a.a.createElement("div",{className:"viewer ".concat(this.isFullMode()?"viewer-full":"viewer-side")},a.a.createElement("div",{className:"viewer-scene",ref:this.sceneRef},this.isFullMode()&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"viewer-action"},this.props.viewer.stringifyAction(this.props.timestep.action)),a.a.createElement("div",{className:"viewer-reward"},this.props.timestep.reward))))}}]),n}(a.a.Component);R.defaultProps={viewer:null,timestep:null,mode:"full"};var V=R,S=n(18),z=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return a.a.createElement(S.a,{fluid:!0},a.a.createElement(V,{viewer:this.props.viewer,timestep:this.props.currentTimestep}))}}]),n}(a.a.Component);z.defaultProps={currentTimestep:null,viewer:null};var W=z,U=n(16),D=n(72),G=n(67),M=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"timestepFeatures",value:function(){var e=this;return this.props.iterate(this.props.currentTimestep.obs,this.props.selectedAction).filter((function(t){var n=t.label;Object(D.a)(t,["label"]);return n.includes(e.props.filterPhrase)}))}},{key:"render",value:function(){return a.a.createElement(S.a,{fluid:!0},a.a.createElement(U.a,null,a.a.createElement(v.a,{className:"full-width"},a.a.createElement(v.a.Control,{type:"text",value:this.props.filterPhrase,onChange:this.props.filterComponents,placeholder:"Filter components...",size:"sm",className:"full-width"}))),a.a.createElement(U.a,null,a.a.createElement(G.a,{striped:!0,bordered:!0,hover:!0},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{className:"w-20"},"Label"),a.a.createElement("th",{className:"w-20"},"Value (raw)"),a.a.createElement("th",{className:"w-20"},"Value (real)"),a.a.createElement("th",{className:"w-20"},"Attributation (raw)"),a.a.createElement("th",{className:"w-20"},"Attributation (normalized)"))),a.a.createElement("tbody",null,this.timestepFeatures().map((function(e){var t=e.label,n=e.rawValue,r=e.realValue,i=e.rawAttributation,s=e.normalizedAttributation;return a.a.createElement("tr",{key:t},a.a.createElement("td",null,t),a.a.createElement("td",null,n.toFixed(4)),a.a.createElement("td",null,r.toFixed(4)),a.a.createElement("td",null,i.toFixed(4)),a.a.createElement("td",null,s.toFixed(2)))}))))))}}]),n}(a.a.Component);M.defaultProps={currentTimestep:null,selectedAction:null,filterPhrase:"",filterComponents:null,viewer:null};var _=M,B=(n(87),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.currentTimestep.attributations,n=t.picked,r=t.top;return a.a.createElement(S.a,{fluid:!0},a.a.createElement(U.a,null,a.a.createElement(b.a,{variant:"secondary",title:"Select action",className:"action-picker"},a.a.createElement(g.a.Header,null,"Picked action"),a.a.createElement(g.a.Item,{onClick:this.props.selectPickedAction},this.props.stringifyAction(n.action),"\xa0 (",n.prob.toFixed(2),")"),a.a.createElement(g.a.Divider,null),a.a.createElement(g.a.Header,null,"Top actions"),r.map((function(t,n){return a.a.createElement(g.a.Item,{eventKey:n.toString(),key:n,onSelect:function(t){return e.props.selectAction(f.a.parseInt(t))}},e.props.stringifyAction(t.action)," (",t.prob.toFixed(2),")")})))),a.a.createElement(U.a,null,a.a.createElement("pre",{className:"selected-action"},this.props.stringifyAction(this.props.selectedAction.action),"\xa0 (",n.prob.toFixed(2),")")))}}]),n}(a.a.Component));B.defaultProps={currentTimestep:null,selectedAction:null,selectPickedAction:null,selectAction:null,stringifyAction:null};var J=B,K=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).obsEncoder=new L(r.props.obsWidth,r.props.obsHeight,(function(e){return C(x(e))})),r.attrEncoder=new L(r.props.obsWidth,r.props.obsHeight,(function(e){return function(e){var t=.35+.65*(1-Math.abs(e)),n=e>0?.3:1;return(new A.c).setHSL(n,1,t)}(e)})),r}return Object(c.a)(n,[{key:"obsImage",value:function(){return this.obsEncoder.encode(this.props.currentTimestep.obs)}},{key:"attrImage",value:function(){return this.attrEncoder.encode(this.props.selectedAction.normalized)}},{key:"render",value:function(){return a.a.createElement(S.a,null,a.a.createElement(U.a,null,a.a.createElement(w.a,null,a.a.createElement("img",{src:this.obsImage(),width:"300",height:"300",alt:"observation"})),a.a.createElement(w.a,null,a.a.createElement("img",{src:this.attrImage(),width:"300",height:"300",alt:"attributation"}))))}}]),n}(a.a.Component);K.defaultProps={currentTimestep:null,selectedAction:null,obsWidth:84,obsHeight:84};var q=K,$=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=null;return"none"===this.props.viewerId?e=a.a.createElement("p",null,"No viewer defined."):"table"===this.props.viewer.attributationViewerType()?e=a.a.createElement(_,{currentTimestep:this.props.currentTimestep,selectedAction:this.props.selectedAction,filterPhrase:this.props.filterPhrase,filterComponents:this.props.filterComponents.bind(this),iterate:this.props.viewer.iterate}):"image"===this.props.viewer.attributationViewerType()&&(e=a.a.createElement(q,{currentTimestep:this.props.currentTimestep,selectedAction:this.props.selectedAction})),a.a.createElement(S.a,{fluid:!0},a.a.createElement(U.a,null,a.a.createElement(w.a,null,e),a.a.createElement(w.a,{xs:"2",className:"bg-light"},a.a.createElement(S.a,{fluid:!0},a.a.createElement(U.a,null,a.a.createElement(J,{currentTimestep:this.props.currentTimestep,selectedAction:this.props.selectedAction,selectPickedAction:this.props.selectPickedAction,selectAction:this.props.selectAction,stringifyAction:this.props.viewer.stringifyAction})),a.a.createElement(U.a,null,a.a.createElement(V,{viewer:this.props.viewer,timestep:this.props.currentTimestep,mode:"side"}))))))}}]),n}(a.a.Component);$.defaultProps={currentTimestep:null,selectedAction:null,filterPhrase:"",filterComponents:null,selectPickedAction:null,selectAction:null,viewer:null,viewerId:"none"};var Q=$,X=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.call(this,84,84)}return Object(c.a)(n,[{key:"stringifyAction",value:function(e){switch(e){case 0:return"NOOP";case 1:return"FIRE";case 2:return"UP";case 3:return"RIGHT";case 4:return"LEFT";case 5:return"DOWN";case 6:return"UPRIGHT";case 7:return"UPLEFT";case 8:return"DOWNRIGHT";case 9:return"DOWNLEFT";case 10:return"UPFIRE";case 11:return"RIGHTFIRE";case 12:return"LEFTFIRE";case 13:return"DOWNFIRE";case 14:return"UPRIGHTFIRE";case 15:return"UPLEFTFIRE";case 16:return"DOWNRIGHTFIRE";case 17:return"DOWNLEFTFIRE";default:return"n/a"}}}]),n}(F),Y=n(69),Z={none:function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).p=document.createElement("p"),e.p.innerText="No viewer defined.",e}return Object(c.a)(n,[{key:"domElement",value:function(){return this.p}},{key:"resize",value:function(e,t){}},{key:"update",value:function(e){}}]),n}(N),cartpole:H,atari:X},ee=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).rewindToBeginning=function(){r.pausePlaying(),r.rewindTo(0)},r.rewindToPrevious=function(){r.pausePlaying(),r.rewindTo(r.state.currentTimestepIndex-1)},r.rewindToNext=function(){r.pausePlaying(),r.rewindTo(r.state.currentTimestepIndex+1)},r.rewindToEnd=function(){r.pausePlaying(),r.rewindTo(r.lastValidTrajectoryIndex())},r.rewindToPosition=function(e){r.pausePlaying(),r.rewindTo(e)},r.togglePlaying=function(){r.isPlaying()?r.pausePlaying():r.startPlaying()},r.startPlaying=function(){r.setState({playing:setInterval(r.playTick.bind(Object(l.a)(r)),50)})},r.pausePlaying=function(){r.isPlaying()&&clearInterval(r.state.playing),r.setState({playing:null})},r.filterComponents=function(e){r.setState({filterPhrase:e.target.value})},r.selectPickedAction=function(e){r.setState({selectedAction:r.state.currentTimestep.attributations.picked})},r.state={title:null,description:null,env:null,recordedAt:null,trajectories:[],currentTrajectoryIndex:0,currentTrajectory:null,currentTimestepIndex:0,currentTimestep:null,playing:null,filterPhrase:"",selectedAction:null,fetchesInProgress:0},r.viewer=new Z[r.props.viewerId],r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.fetchTrajectoriesList()}},{key:"getEndpointUrl",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.props.backendUrl+t.map((function(e){return f.a.toString(e)})).join("/")}},{key:"withLoading",value:function(e){var t=this;this.setState((function(e){return{fetchesInProgress:e.fetchesInProgress+1}}),(function(){return e().then((function(){return t.setState((function(e){return{fetchesInProgress:e.fetchesInProgress-1}}))}))}))}},{key:"fetchTrajectoriesList",value:function(){var e=this;this.withLoading((function(){return fetch(e.getEndpointUrl("rollout")).then((function(e){return e.json()})).then((function(t){return e.setState({title:t.title,description:t.description,env:t.env,recordedAt:t.recorded_at,trajectories:t.trajectories})})).then((function(){return e.fetchTrajectory(0)}))}))}},{key:"fetchTrajectory",value:function(e){var t=this;this.withLoading((function(){return fetch(t.getEndpointUrl("rollout","trajectory",e)).then((function(e){return e.json()})).then((function(n){return t.setState({currentTrajectoryIndex:e,currentTrajectory:{title:n.title,description:n.description,hotspots:n.hotspots,timesteps:n.timesteps}})})).then((function(){return t.rewindTo(0)}))}))}},{key:"isTrajectoryLoaded",value:function(){return null!==this.state.currentTrajectory}},{key:"isTimestepLoaded",value:function(){return null!==this.state.currentTimestep}},{key:"isFetchInProgress",value:function(){return this.state.fetchesInProgress>0}},{key:"isPlaying",value:function(){return null!==this.state.playing}},{key:"trajectoryLength",value:function(){return this.isTrajectoryLoaded()?this.state.currentTrajectory.timesteps.length:0}},{key:"lastValidTrajectoryIndex",value:function(){return this.isTrajectoryLoaded()?this.trajectoryLength()-1:0}},{key:"rewindTo",value:function(e){var t=this;if(e<0||e>=this.trajectoryLength())return!1;this.setState({currentTimestepIndex:e,currentTimestep:this.state.currentTrajectory.timesteps[e],selectedAction:this.state.currentTrajectory.timesteps[e].attributations.picked},(function(){return t.viewer.update(t.state.currentTimestep)}))}},{key:"playTick",value:function(){this.rewindTo(this.state.currentTimestepIndex+1)}},{key:"selectAction",value:function(e){this.setState({selectedAction:this.state.currentTimestep.attributations.top[e]})}},{key:"render",value:function(){return a.a.createElement(I.a,null,this.isFetchInProgress()&&a.a.createElement("div",{className:"loader"},a.a.createElement(Y.a,{animation:"grow",variant:"primary"})),a.a.createElement(d.a,{bg:"light",expand:"lg",sticky:"top"},a.a.createElement(d.a.Brand,{href:"/"},"rld"),a.a.createElement(d.a.Toggle,{"aria-controls":"main-nav"}),a.a.createElement(d.a.Collapse,{id:"main-nav"},a.a.createElement(p.a,{className:"mr-auto"},a.a.createElement(p.a.Link,{as:I.b,to:"/"},"Viewer"),a.a.createElement(p.a.Link,{as:I.b,to:"/attributation"},"Attributation"))),a.a.createElement(k,{trajectories:this.state.trajectories,currentTrajectoryIndex:this.state.currentTrajectoryIndex,currentTrajectory:this.state.currentTrajectory,currentTimestepIndex:this.state.currentTimestepIndex,currentTimestep:this.state.currentTimestep,playing:this.state.playing,fetchTrajectory:this.fetchTrajectory.bind(this),rewindToBeginning:this.rewindToBeginning,rewindToPrevious:this.rewindToPrevious,rewindToNext:this.rewindToNext,rewindToEnd:this.rewindToEnd,rewindToPosition:this.rewindToPosition,togglePlaying:this.togglePlaying})),a.a.createElement(P.c,null,a.a.createElement(P.a,{path:"/",exact:!0},this.isTimestepLoaded()&&a.a.createElement(W,{currentTimestep:this.state.currentTimestep,viewer:this.viewer})),a.a.createElement(P.a,{path:"/attributation",exact:!0},this.isTimestepLoaded()&&a.a.createElement(Q,{currentTimestep:this.state.currentTimestep,selectedAction:this.state.selectedAction,filterPhrase:this.state.filterPhrase,filterComponents:this.filterComponents,selectPickedAction:this.selectPickedAction,selectAction:this.selectAction.bind(this),viewer:this.viewer,viewerId:this.props.viewerId}))))}}]),n}(a.a.Component);ee.defaultProps={backendUrl:"http://localhost:5000/",viewerId:"atari"};var te=ee;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=document.getElementById("root"),re=ne.getAttribute("data-host");re.startsWith("{")&&(re="localhost");var ae=ne.getAttribute("data-port");ae.startsWith("{")&&(ae=5e3);var ie="http://".concat(re,":").concat(ae,"/"),se=ne.getAttribute("data-viewer");se.startsWith("{")&&(se="none"),s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(te,{backendUrl:ie,viewerId:se})),ne),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[74,1,2]]]);
//# sourceMappingURL=main.284f6faf.chunk.js.map