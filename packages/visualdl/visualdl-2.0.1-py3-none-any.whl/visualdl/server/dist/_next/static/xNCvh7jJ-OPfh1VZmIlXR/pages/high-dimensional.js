(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"5Kf0":function(e,n,t){e.exports=t.p+"static/chunks/0.8bcc811168120635db6c.worker.js"},"DtL+":function(e,n,t){"use strict";(function(e){var r=t("OnzC"),i=t("ERkP"),o=t.n(i),c=t("r8eb"),u=t("roxr"),a=t("JBtm"),l=t.n(a),s=t("j/s1"),d=t("RbC2"),b=t("O1Fn"),f=t("9bu8"),p=o.a.createElement,m=function(){return t.e(11).then(t.bind(null,"ppfC")).then((function(e){var n=e.high_dimensional_divide;return function(e){var t;return n(e.points,e.labels,!!e.visibility,null!==(t=e.keyword)&&void 0!==t?t:"")}}))},v=function(){return new Worker(e,void 0)},g=Object(s.c)(u.a).withConfig({displayName:"HighDimensionalChart__StyledScatterChart",componentId:"i3h5jz-0"})(["height:",";"],c.k),h=s.c.div.withConfig({displayName:"HighDimensionalChart__Empty",componentId:"i3h5jz-1"})(["display:flex;justify-content:center;align-items:center;font-size:",";height:",";"],Object(c.H)(20),c.k),j={show:!0,position:"top",formatter:function(e){return e.data.showing?e.data.name:""}};n.a=function(e){var n=e.run,t=e.tag,o=e.running,u=e.labelVisibility,a=e.keyword,s=e.reduction,O=e.dimension,y=Object(f.g)("common").t,k=Object(b.b)(n&&t?"/embedding/embedding?".concat(l.a.stringify({run:n,tag:t,dimension:Number.parseInt(O,10),reduction:s})):null,!!o),w=k.data,C=k.error,x=k.loading,_=Object(i.useMemo)((function(){var e,n;return{points:null!==(e=null===w||void 0===w?void 0:w.embedding)&&void 0!==e?e:[],keyword:a,labels:null!==(n=null===w||void 0===w?void 0:w.labels)&&void 0!==n?n:[],visibility:u}}),[w,u,a]),E=Object(d.a)(m,v,r.divide,_),S=Object(i.useMemo)((function(){var e,n;return[{name:"highlighted",data:null!==(e=null===E||void 0===E?void 0:E[0])&&void 0!==e?e:[],label:j},{name:"others",data:null!==(n=null===E||void 0===E?void 0:E[1])&&void 0!==n?n:[],label:j,color:c.F}]}),[E]);return!w&&C?p(h,null,y("common:error")):w||x?p(g,{loading:x,data:S,gl:"3d"===O}):p(h,null,y("common:empty"))}}).call(this,t("5Kf0"))},FvZk:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/high-dimensional",function(){return t("ioac")}])},IMpY:function(e,n){},OnzC:function(e,n,t){"use strict";t.d(n,"divide",(function(){return r}));t("IMpY");var r=function(e){var n=e.points,t=e.keyword;return function(e,n){if(!n)return[[],e];var t=[],r=[];return e.forEach((function(e){e.name.includes(n)?t.push(e):r.push(e)})),[t,r]}(function(e,n,t){return e.map((function(e,r){return{name:n[r]||"",showing:!!t,value:e}}))}(n,e.labels,e.visibility),t)}},RbC2:function(e,n,t){"use strict";var r=t("ERkP");n.a=function(e,n,t,i){var o=Object(r.useRef)(null),c=Object(r.useRef)(null),u=Object(r.useState)(void 0),a=u[0],l=u[1],s=Object(r.useCallback)((function(e){return t&&l(t(e))}),[t]);return Object(r.useEffect)((function(){try{var t,r,u,a;if(e&&"undefined"!==typeof WebAssembly)return o.current||(o.current=e()),void(null===(t=o.current)||void 0===t||t.then((function(e){return l(e(i))})).catch((function(){return s(i)})));if(n&&"undefined"!==typeof Worker)return c.current||(c.current=n()),null===(r=c.current)||void 0===r||r.postMessage(i),null===(u=c.current)||void 0===u||u.addEventListener("message",(function(e){var n=e.data;return l(n)})),void(null===(a=c.current)||void 0===a||a.addEventListener("error",(function(){return s(i)})))}catch(d){0,s(i)}s(i)}),[e,n,s,i]),a}},"X+YX":function(e,n,t){var r=t("JBn+"),i=t("OfKG"),o=t("sCL+"),c=t("H87J"),u=t("SU8Q"),a=t("S0iI"),l=200;e.exports=function(e,n,t,s){var d=-1,b=i,f=!0,p=e.length,m=[],v=n.length;if(!p)return m;t&&(n=c(n,u(t))),s?(b=o,f=!1):n.length>=l&&(b=a,f=!1,n=new r(n));e:for(;++d<p;){var g=e[d],h=null==t?g:t(g);if(g=s||0!==g?g:0,f&&h===h){for(var j=v;j--;)if(n[j]===h)continue e;m.push(g)}else b(n,h,s)||m.push(g)}return m}},gI5n:function(e,n,t){"use strict";var r=t("fGyu"),i=t("KD1n"),o=t("ERkP"),c=t.n(o),u=t("r8eb"),a=t("PKwP"),l=t("TpTG"),s=t("j/s1"),d=function(e){var n=Object(o.useRef)(null),t=Object(o.useCallback)((function(n){"Escape"===n.key&&e()}),[e]),r=Object(o.useCallback)((function(t){n.current&&!n.current.contains(t.target)&&e()}),[e]);return Object(o.useEffect)((function(){return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),document.addEventListener("keyup",t),function(){document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r),document.removeEventListener("keyup",t)}}),[r,t]),n},b=t("9bu8"),f=t("uUTq"),p=t.n(f),m=c.a.createElement;function v(){var e=Object(i.a)(["\n    display: block;\n    cursor: pointer;\n    padding: 0 ",";\n    ","\n    line-height: ",";\n    ","\n\n    &:hover {\n        background-color: ",";\n    }\n"]);return v=function(){return e},e}var g=Object(u.s)(10),h=Object(u.s)(36),j=s.c.div.withConfig({displayName:"Select__Wrapper",componentId:"gp8kp0-0"})(["height:",";line-height:calc("," - 2px);max-width:100%;display:inline-block;position:relative;background-color:",";"," "," "," &:hover{border-color:",";}"],h,h,u.c,Object(u.I)({radius:!0}),(function(e){return e.opened?Object(u.j)("bottom","0"):""}),Object(u.P)("border-color"),u.h),O=s.c.div.withConfig({displayName:"Select__Trigger",componentId:"gp8kp0-1"})(["padding:",";display:inline-flex;"," justify-content:space-between;align-items:center;cursor:pointer;",""],g,Object(u.K)("100%"),(function(e){return e.selected?"":"color: ".concat(u.O)})),y=Object(s.c)(l.a).withConfig({displayName:"Select__TriggerIcon",componentId:"gp8kp0-2"})([""," text-align:center;display:block;flex-shrink:0;transform:rotate(","deg) scale(",");",""],Object(u.K)(Object(u.s)(14)),(function(e){return e.opened?"180":"0"}),10/14,Object(u.P)("transform")),k=s.c.span.withConfig({displayName:"Select__Label",componentId:"gp8kp0-3"})(["flex-grow:1;padding-right:",";",""],Object(u.s)(10),Object(u.r)()),w=s.c.div.withConfig({displayName:"Select__List",componentId:"gp8kp0-4"})(["position:absolute;top:100%;width:calc(100% + 2px);max-height:",";overflow-x:hidden;overflow-y:auto;left:-1px;padding:"," 0;border:inherit;border-top-color:",";"," display:",";z-index:9999;line-height:1;background-color:inherit;box-shadow:0 5px 6px 0 rgba(0,0,0,0.05);",""],Object(u.y)("4.35 * ".concat(h," + 2 * ").concat(g)),g,u.g,Object(u.j)("bottom",u.i),(function(e){return e.opened?"block":"none"}),(function(e){return e.empty?{color:u.O,textAlign:"center"}:""})),C=Object(u.m)(v(),g,Object(u.K)(h,"100%"),h,Object(u.P)(["color","background-color"]),u.d),x=s.c.div.withConfig({displayName:"Select__ListItem",componentId:"gp8kp0-5"})([""," "," ",""],Object(u.r)(),C,(function(e){return e.selected?"color: ".concat(u.J,";"):""})),_=Object(s.c)(a.a).withConfig({displayName:"Select__MultipleListItem",componentId:"gp8kp0-6"})([""," display:flex;align-items:center;"],C);n.a=function(e){var n=e.list,t=e.value,i=e.placeholder,c=e.multiple,u=e.className,a=e.onChange,l=Object(b.g)("common").t,s=Object(o.useState)(!1),f=s[0],v=s[1],g=Object(o.useCallback)((function(){return v(!f)}),[f]),h=Object(o.useCallback)((function(){return v(!1)}),[]),C=Object(o.useState)(c?Array.isArray(t)?t:[]:t),E=C[0],S=C[1];Object(o.useEffect)((function(){return S(c?Array.isArray(t)?t:[]:t)}),[c,t,S]);var I=Object(o.useMemo)((function(){return!!(c?E&&0!==E.length:E)}),[c,E]),P=Object(o.useCallback)((function(e){var n;S(e),null===(n=a)||void 0===n||n(e),h()}),[h,a]),N=Object(o.useCallback)((function(e,n){var t,i=E;n?i.includes(e)||(i=[].concat(Object(r.a)(i),[e])):i.includes(e)&&(i=p()(i,e)),S(i),null===(t=a)||void 0===t||t(i)}),[E,a]),R=d(h),A=Object(o.useMemo)((function(){var e;return null!==(e=null===n||void 0===n?void 0:n.map((function(e){return["string","number"].includes(typeof e)?{value:e,label:e+""}:e})))&&void 0!==e?e:[]}),[n]),L=Object(o.useMemo)((function(){return 0===A.length}),[A]),M=Object(o.useCallback)((function(e){var n,t;return null!==(n=null===(t=A.find((function(n){return n.value===e})))||void 0===t?void 0:t.label)&&void 0!==n?n:""}),[A]),z=Object(o.useMemo)((function(){return I?c?E.map(M).join(" / "):M(E):i||l("common:select")}),[c,E,M,I,i,l]);return m(j,{ref:R,opened:f,className:u},m(O,{onClick:g,selected:I,title:I&&z?String(z):""},m(k,null,z),m(y,{opened:f,type:"chevron-down"})),m(w,{opened:f,empty:L},L?l("common:empty"):A.map((function(e,n){return c?m(_,{value:E.includes(e.value),key:n,title:e.label,size:"small",onChange:function(n){return N(e.value,n)}},e.label):m(x,{selected:e.value===E,key:n,title:e.label,onClick:function(){return P(e.value)}},e.label)}))))}},ioac:function(e,n,t){"use strict";t.r(n);var r=t("fGyu"),i=t("0jAH"),o=t("9bu8"),c=t("ERkP"),u=t.n(c),a=t("gI5n"),l=t("r8eb"),s=t("PKwP"),d=t("QRo2"),b=t("E67T"),f=t("wK9i"),p=t("DtL+"),m=t("TpTG"),v=t("1HTM"),g=t("s+3g"),h=t("jd94"),j=t("Obvh"),O=t("bbjh"),y=t("C34g"),k=t("j/s1"),w=t("7xIC"),C=t("O1Fn"),x=t("XPj2"),_=u.a.createElement,E=["2d","3d"],S=["pca","tsne"],I=Object(k.c)(a.a).withConfig({displayName:"high-dimensional__StyledSelect",componentId:"sc-1mk5cn7-0"})(["min-width:",";"],Object(l.s)(160)),P=Object(k.c)(m.a).withConfig({displayName:"high-dimensional__StyledIcon",componentId:"sc-1mk5cn7-1"})(["margin-right:",";vertical-align:middle;"],Object(l.s)(4)),N=k.c.div.withConfig({displayName:"high-dimensional__AsideTitle",componentId:"sc-1mk5cn7-2"})(["font-size:",";line-height:",";font-weight:700;margin-bottom:",";"],Object(l.H)(16),Object(l.H)(16),Object(l.H)(10)),R=function(){var e=Object(o.g)(["high-dimensional","common"]).t,n=Object(c.useState)(!0),t=n[0],a=n[1],l=Object(C.b)("/runs",t),m=l.data,k=l.error,R=l.loading,A=Object(C.b)("/embedding/tags",t),L=A.data,M=A.error,z=A.loading,F=Object(c.useMemo)((function(){return k||M}),[k,M]),T=Object(c.useMemo)((function(){return R||z}),[R,z]),D=Object(c.useMemo)((function(){return m&&L?m.reduce((function(e,n){var t,i;return[].concat(Object(r.a)(e),Object(r.a)(null!==(t=null===(i=L[n])||void 0===i?void 0:i.map((function(e){return{run:n,tag:e,label:"".concat(n,"/").concat(e)}})))&&void 0!==t?t:[]))}),[]):[]}),[m,L]),K=Object(c.useMemo)((function(){return D.map((function(e){return e.label}))}),[D]),H=Object(w.useRouter)().query,G=Object(c.useMemo)((function(){var e,n,t,r=Array.isArray(H.run)?H.run[0]:H.run;return null!==(e=r&&(null===(n=D.find((function(e){return e.run===r})))||void 0===n?void 0:n.label))&&void 0!==e?e:null===(t=D[0])||void 0===t?void 0:t.label}),[H.run,D]),X=Object(c.useState)(G),J=X[0],W=X[1];Object(c.useEffect)((function(){return W(G)}),[G]);var q=Object(c.useMemo)((function(){var e;return null!==(e=D.find((function(e){return e.label===J})))&&void 0!==e?e:{run:"",tag:"",label:""}}),[D,J]),B=Object(c.useState)(""),U=B[0],Z=B[1],Q=Object(x.a)(U),Y=Object(c.useState)(E[0]),V=Y[0],$=Y[1],ee=Object(c.useState)(S[0]),ne=ee[0],te=ee[1],re=Object(c.useState)(!0),ie=re[0],oe=re[1],ce=Object(c.useMemo)((function(){return _(j.a,{running:t,onToggle:a})}),[t,a]),ue=Object(c.useMemo)((function(){return K.length?_(i.b,{bottom:ce},_(i.a,null,_(N,null,e("common:select-runs")),_(I,{list:K,value:J,onChange:W})),_(i.a,null,_(f.a,null,_(O.a,{placeholder:e("common:search"),value:U,onChange:Z})),_(f.a,null,_(s.a,{value:ie,onChange:oe},e("high-dimensional:display-all-label")))),_(i.a,null,_(N,null,_(P,{type:"dimension"}),e("high-dimensional:dimension")),_(f.a,null,_(h.c,{value:V,onChange:function(e){return $(e)}},E.map((function(n){return _(g.a,{key:n,value:n},e(n))}))))),_(i.a,null,_(N,null,_(P,{type:"reduction"}),e("high-dimensional:reduction-method")),_(f.a,null,_(h.c,{value:ne,onChange:function(e){return te(e)}},S.map((function(n){return _(g.a,{key:n,value:n},e(n))})))))):null}),[e,ce,V,J,K,ie,ne,U]);return _(u.a.Fragment,null,_(v.a,{url:"/runs"}),_(y.a,null,e("common:high-dimensional")),_(d.a,{aside:ue,loading:T},T||D.length?F?_("div",null,e("common:error")):T?null:_(p.a,{dimension:V,keyword:Q,run:q.run,tag:q.tag,running:t,labelVisibility:ie,reduction:ne}):_(b.a,null)))};R.getInitialProps=function(){return{namespacesRequired:["high-dimensional","common"]}},n.default=R},jd94:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return l}));var r=t("ERkP"),i=t.n(r),o=t("j/s1"),c=i.a.createElement,u=o.c.div.withConfig({displayName:"RadioGroup__Wrapper",componentId:"u4ef1v-0"})(["display:inline-flex;> *{flex-shrink:0;align-items:flex-start;}"]),a=Object(r.createContext)((function(){})),l=Object(r.createContext)(null);n.c=function(e){var n=e.value,t=e.onChange,i=e.children,o=e.className,s=Object(r.useState)(n),d=s[0],b=s[1],f=Object(r.useCallback)((function(e){b(e),null===t||void 0===t||t(e)}),[t]);return c(a.Provider,{value:function(e){return f(e)}},c(l.Provider,{value:d},c(u,{className:o},i)))}},kF6i:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var r=t("VtSi"),i=t.n(r),o=t("QsI/"),c=t("ERkP"),u=t("r8eb");var a=t("etrl"),l=t("j/s1"),s=(n.b=function(e){var n=Object(c.useRef)(null),r=Object(c.useRef)(null),l=Object(c.useState)(null),s=l[0],d=l[1],b=Object(c.useRef)(e.onInit),f=Object(c.useRef)(e.onDispose),p=Object(c.useCallback)((function(){Object(o.a)(i.a.mark((function o(){var c;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.e(15).then(t.t.bind(null,"Ckg4",7));case 2:if(c=i.sent,!e.gl){i.next=6;break}return i.next=6,Promise.all([t.e(16),t.e(15)]).then(t.t.bind(null,"CGrq",7));case 6:if(n.current){i.next=8;break}return i.abrupt("return");case 8:r.current=c.init(n.current),setTimeout((function(){var n,t;e.zoom&&(null===(n=r.current)||void 0===n||n.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!0}));r.current&&(null===(t=b.current)||void 0===t||t.call(b,r.current))}),0),d(r.current);case 11:case"end":return i.stop()}}),o)})))()}),[e.gl,e.zoom]),m=Object(c.useCallback)((function(){var e,n;r.current&&(null===(n=f.current)||void 0===n||n.call(f,r.current));null===(e=r.current)||void 0===e||e.dispose(),d(null)}),[]);Object(c.useEffect)((function(){return p(),m}),[p,m]),Object(c.useEffect)((function(){var n,t;e.loading?null===(n=r.current)||void 0===n||n.showLoading("default",{text:"",color:u.F,textColor:u.L,maskColor:u.x,zlevel:0}):null===(t=r.current)||void 0===t||t.hideLoading()}),[e.loading]);var v=Object(c.useRef)(null);Object(c.useLayoutEffect)((function(){if(e.autoFit){var n=v.current;if(n){var t=new ResizeObserver((function(){var e;null===(e=r.current)||void 0===e||e.resize()}));return t.observe(n),function(){return t.unobserve(n)}}}}),[e.autoFit]);var g=Object(c.useCallback)((function(e){if(s){var n=function(e){for(var n=e.split(";base64,"),t=n[0].split(":")[1],r=window.atob(n[1]),i=r.length,o=new Uint8Array(i),c=0;c<i;++c)o[c]=r.charCodeAt(c);return new Blob([o],{type:t})}(s.getDataURL({type:"png",pixelRatio:2,backgroundColor:"#FFF"}));Object(a.saveAs)(n,"".concat((null===e||void 0===e?void 0:e.replace(/[/\\?%*:|"<>]/g,"_"))||"chart",".png"))}}),[s]);return{ref:n,echart:s,wrapper:v,saveAsImage:g}},l.c.div.withConfig({displayName:"useECharts__Wrapper",componentId:"pbwrps-0"})(["position:relative;display:flex;justify-content:center;align-items:stretch;> .echarts{width:100%;}> .loading{"," "," display:flex;justify-content:center;align-items:center;}"],Object(u.K)("100%"),Object(u.C)("absolute",0,null,null,0)))},roxr:function(e,n,t){"use strict";var r=t("zjfJ"),i=t("ERkP"),o=t.n(i),c=t("r8eb"),u=t("zqQH"),a=t.n(u),l=t("j/s1"),s=t("kF6i"),d=o.a.createElement;function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){Object(r.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p=l.c.div.withConfig({displayName:"ScatterChart__Wrapper",componentId:"nafbih-0"})(["position:relative;background-color:",";> .echarts{height:100%;}> .loading{"," "," display:flex;justify-content:center;align-items:center;}"],c.c,Object(c.C)("absolute",0,null,null,0),Object(c.K)("100%")),m={xAxis:{},yAxis:{},toolbox:{show:!0,showTitle:!1,itemSize:0,feature:{dataZoom:{},restore:{},saveAsImage:{}}}},v={grid3D:{},xAxis3D:{},yAxis3D:{},zAxis3D:{}},g={symbolSize:12,type:"scatter"},h={symbolSize:12,type:"scatter3D"};n.a=function(e){var n=e.data,t=e.loading,r=e.gl,o=e.className,u=Object(s.b)({loading:t,gl:r,autoFit:!0}),l=u.ref,b=u.echart,j=u.wrapper,O=Object(i.useMemo)((function(){var e;return f(f({},r?v:m),{},{series:null!==(e=null===n||void 0===n?void 0:n.map((function(e){return f(f({},r?h:g),e)})))&&void 0!==e?e:[]})}),[r,n]);return Object(i.useEffect)((function(){null===b||void 0===b||b.setOption(O)}),[O,b]),d(p,{ref:j,className:o},!b&&d("div",{className:"loading"},d(a.a,{color:c.F,size:"10px"})),d("div",{className:"echarts",ref:l}))}},"s+3g":function(e,n,t){"use strict";var r=t("jd94"),i=t("ERkP"),o=t.n(i),c=t("r8eb"),u=t("j/s1"),a=o.a.createElement,l=Object(c.s)(36),s=Object(c.s)(72),d=Object(c.s)(144),b=u.c.a.withConfig({displayName:"RadioButton__Button",componentId:"sc-1e983se-0"})(["cursor:pointer;background-color:",";color:",";height:",";line-height:calc("," - 2px);min-width:",";padding:0 ",";text-align:center;"," ",";"," "," &:hover{border-color:",";}&:first-of-type{","}&:last-of-type{","}& + &{margin-left:-1px;}"],(function(e){return e.selected?c.F:c.c}),(function(e){return e.selected?c.M:c.L}),l,l,s,Object(c.s)(8),Object(c.r)(d),(function(e){return Object(c.I)({color:e.selected?c.F:c.g})}),Object(c.P)(["color","border-color","background-color"]),(function(e){return e.selected?"position: relative;":""}),(function(e){return e.selected?c.F:c.h}),Object(c.j)("left",c.i),Object(c.j)("right",c.i));n.a=function(e){var n=e.className,t=e.value,o=e.selected,c=e.title,u=e.children,l=Object(i.useContext)(r.b),s=Object(i.useContext)(r.a),d=Object(i.useCallback)((function(){null!=t&&s&&l!==t&&s(t)}),[t,s,l]);return a(b,{className:n,title:c,selected:l===t||o,onClick:d},u)}},uUTq:function(e,n,t){var r=t("X+YX"),i=t("R3TX"),o=t("Ndl3"),c=i((function(e,n){return o(e)?r(e,n):[]}));e.exports=c}},[["FvZk",1,2,3,4,0,5,6,7,8]]]);