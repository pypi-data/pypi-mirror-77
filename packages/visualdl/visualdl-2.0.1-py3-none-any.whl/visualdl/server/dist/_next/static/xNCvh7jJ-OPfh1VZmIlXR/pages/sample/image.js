(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"5g36":function(e,n,t){"use strict";var a=t("ERkP"),r=t.n(a),c=t("r8eb"),o=t("Ns5m"),i=t("zqQH"),l=t.n(i),u=t("lXyp"),s=t("j/s1"),f=t("9bu8"),b=r.a.createElement,m=s.c.div.withConfig({displayName:"StepSlider__Label",componentId:"sc-1iffflo-0"})(["display:flex;justify-content:space-between;color:",";font-size:",";margin-bottom:",";>:not(:first-child){flex-grow:0;}"],c.N,Object(c.s)(12),Object(c.s)(5)),g=Object(s.c)(u.a).withConfig({displayName:"StepSlider__FullWidthRangeSlider",componentId:"sc-1iffflo-1"})(["width:100%;"]),p=function(e){var n,t=e.onChange,c=e.onChangeComplete,o=e.value,i=e.steps,l=e.children,u=Object(f.g)("sample").t,s=Object(a.useState)(o),p=s[0],d=s[1];Object(a.useEffect)((function(){return d(o)}),[o]);var h=Object(a.useCallback)((function(e){d(e),null===t||void 0===t||t(e)}),[t]);return b(r.a.Fragment,null,b(m,null,b("span",null,"".concat(u("sample:step"),": ").concat(null!==(n=i[p])&&void 0!==n?n:"...")),l&&b("span",null,l)),b(g,{min:0,max:i.length?i.length-1:0,step:1,value:p,onChange:h,onChangeComplete:c}))},d=t("cBaE"),h=t("MwrP"),v=t.n(h),j=t("JBtm"),O=t.n(j),y=t("O1Fn"),w=r.a.createElement,C=s.c.div.withConfig({displayName:"SampleChart__Wrapper",componentId:"sc-1mqcgyg-0"})(["height:100%;padding:",";padding-bottom:0;display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch;> *{flex-grow:0;flex-shrink:0;}"],Object(c.s)(20)),x=s.c.div.withConfig({displayName:"SampleChart__Title",componentId:"sc-1mqcgyg-1"})(["display:flex;justify-content:space-between;align-items:center;margin-bottom:",";> h4{font-size:",";font-weight:700;flex-shrink:1;flex-grow:1;padding:0;margin:0;","}> span{font-size:",";flex-shrink:0;flex-grow:0;color:",";&::before{content:'';display:inline-block;"," margin-right:",";border-radius:",";vertical-align:middle;background-color:",";}}"],Object(c.s)(20),Object(c.s)(16),Object(c.r)(),Object(c.s)(14),c.N,Object(c.K)(Object(c.H)(5),Object(c.H)(17)),Object(c.H)(8),Object(c.H)(2.5),(function(e){return e.color})),k=s.c.div.withConfig({displayName:"SampleChart__Container",componentId:"sc-1mqcgyg-2"})(["flex-grow:1;flex-shrink:1;margin:"," 0;display:flex;justify-content:center;align-items:center;overflow:hidden;"],Object(c.s)(20)),_=s.c.div.withConfig({displayName:"SampleChart__Footer",componentId:"sc-1mqcgyg-3"})(["margin-bottom:",";display:flex;align-items:center;justify-content:space-between;"],Object(c.H)(18)),S=s.c.div.withConfig({displayName:"SampleChart__FooterInfo",componentId:"sc-1mqcgyg-4"})(["color:",";font-size:",";> *{display:inline-block;margin-left:",";}"],c.O,Object(c.H)(12),Object(c.H)(10));n.a=function(e){var n=e.run,t=e.tag,r=e.running,i=e.type,u=e.cache,s=e.footer,b=e.content,m=Object(f.g)(["sample","common"]),g=m.t,h=m.i18n,j=Object(a.useRef)(null),N=Object(y.b)("/".concat(i,"/list?").concat(O.a.stringify({run:n.label,tag:t})),!!r),R=N.data,E=N.error,I=N.loading,H=Object(a.useMemo)((function(){var e;return null!==(e=null===R||void 0===R?void 0:R.map((function(e){return e.step})))&&void 0!==e?e:[]}),[R]),F=Object(a.useState)(0),P=F[0],T=F[1],L=Object(a.useState)(),z=L[0],M=L[1],q=Object(a.useRef)({}),U=Object(a.useRef)(null);Object(a.useEffect)((function(){Object.values(q.current).forEach((function(e){var n=e.timer;return clearTimeout(n)})),q.current={}}),[t,n]);var K=Object(a.useMemo)((function(){var e;return null!==(e=null===R||void 0===R?void 0:R[P].wallTime)&&void 0!==e?e:0}),[R,P]),J=Object(a.useCallback)((function(){if(R){var e=function(e,n,t,a,r){return"/".concat(e,"/").concat(e,"?").concat(O.a.stringify({index:n,ts:r,run:t,tag:a}))}(i,P,n.label,t,K);q.current[P]={src:e,timer:setTimeout((function(){var e;e=P,delete q.current[e]}),u)},M(e)}}),[i,P,n.label,t,K,R,u]),B=Object(a.useCallback)((function(){var e;null===(e=j.current)||void 0===e||e.save("".concat(n.label,"-").concat(t,"-").concat(H[P],"-").concat(K.toString().replace(/\./,"_")))}),[n.label,t,H,P,K]);Object(a.useEffect)((function(){if(q.current[P])M(q.current[P].src);else{if(!v()(q.current))return U.current=setTimeout(J,500),function(){U.current&&clearTimeout(U.current)};J()}}),[P,J]);var Q=Object(a.useState)(!1),W=Q[0],X=Q[1],A=Object(a.useRef)(null),D=Object(a.useRef)(new IntersectionObserver((function(e){var n;e[0].intersectionRatio>0&&(X(!0),null===(n=D.current)||void 0===n||n.disconnect())})));Object(a.useEffect)((function(){var e=D.current;if(A.current&&e)return e.observe(A.current),function(){return e.disconnect()}}),[]);var G=Object(a.useMemo)((function(){return!I&&q.current[P]&&W?!R&&E?w("span",null,g("common:error")):v()(R)?w("span",null,g("common:empty")):z?b(j,z):null:w(l.a,{color:c.F,size:"10px"})}),[W,I,E,R,P,z,g,b]);return w(C,null,w(x,{color:n.colors[0]},w("h4",null,t),w("span",null,n.label)),w(p,{value:P,steps:H,onChange:T,onChangeComplete:J},Object(d.b)(1e3*K,h.language)),w(k,{ref:A},G),w(_,null,w(o.a,{items:[{icon:"download",tooltip:g("sample:download-".concat(i)),onClick:B}]}),w(S,null,w("span",null,g("sample:sample"),g("common:colon"),(null===R||void 0===R?void 0:R.length)?"".concat(P+1,"/").concat(R.length):"--/--"),s)))}},MwrP:function(e,n,t){var a=t("4uJK"),r=t("kkM+"),c=t("bvyN"),o=t("wxYD"),i=t("9y2L"),l=t("3ajY"),u=t("CbIe"),s=t("Qd2C"),f="[object Map]",b="[object Set]",m=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(i(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||s(e)||c(e)))return!e.length;var n=r(e);if(n==f||n==b)return!e.size;if(u(e))return!a(e).length;for(var t in e)if(m.call(e,t))return!1;return!0}},ZF4y:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sample/image",function(){return t("hccL")}])},aJyk:function(e,n,t){"use strict";var a=t("crdw"),r=t("oNVP").extname,c=/^\s*([^;\s]*)(?:;|\s|$)/,o=/^text\//i;function i(e){if(!e||"string"!==typeof e)return!1;var n=c.exec(e),t=n&&a[n[1].toLowerCase()];return t&&t.charset?t.charset:!(!n||!o.test(n[1]))&&"UTF-8"}n.charset=i,n.charsets={lookup:i},n.contentType=function(e){if(!e||"string"!==typeof e)return!1;var t=-1===e.indexOf("/")?n.lookup(e):e;if(!t)return!1;if(-1===t.indexOf("charset")){var a=n.charset(t);a&&(t+="; charset="+a.toLowerCase())}return t},n.extension=function(e){if(!e||"string"!==typeof e)return!1;var t=c.exec(e),a=t&&n.extensions[t[1].toLowerCase()];if(!a||!a.length)return!1;return a[0]},n.extensions=Object.create(null),n.lookup=function(e){if(!e||"string"!==typeof e)return!1;var t=r("x."+e).toLowerCase().substr(1);if(!t)return!1;return n.types[t]||!1},n.types=Object.create(null),function(e,n){var t=["nginx","apache",void 0,"iana"];Object.keys(a).forEach((function(r){var c=a[r],o=c.extensions;if(o&&o.length){e[r]=o;for(var i=0;i<o.length;i++){var l=o[i];if(n[l]){var u=t.indexOf(a[n[l]].source),s=t.indexOf(c.source);if("application/octet-stream"!==n[l]&&(u>s||u===s&&"application/"===n[l].substr(0,12)))continue}n[l]=r}}}))}(n.extensions,n.types)},crdw:function(e,n,t){e.exports=t("fgl5")},hccL:function(e,n,t){"use strict";t.r(n);var a=t("s8Q3"),r=t("9bu8"),c=t("ERkP"),o=t.n(c),i=t("0jAH"),l=t("PKwP"),u=t("QRo2"),s=t("E67T"),f=t("wK9i"),b=t("cxan"),m=t("HbGN"),g=t("Uqjl"),p=t("r8eb"),d=t("zqQH"),h=t.n(d),v=t("aJyk"),j=t.n(v),O=t("etrl"),y=t("O1Fn"),w=o.a.createElement,C=o.a.forwardRef((function(e,n){var t=e.src,a=e.cache,o=e.className,i=Object(r.g)("common").t,l=Object(c.useState)(""),u=l[0],s=l[1],f=Object(y.a)(null!==t&&void 0!==t?t:null,g.a,{dedupingInterval:null!==a&&void 0!==a?a:2e3}),b=f.data,m=f.error,d=f.loading;return Object(c.useImperativeHandle)(n,(function(){return{save:function(e){if(b){var n=b.type?j.a.extension(b.type):null;Object(O.saveAs)(b.data,e.replace(/[/\\?%*:|"<>]/g,"_")+(n?".".concat(n):""))}}}})),Object(c.useLayoutEffect)((function(){if(b){var e;return e=URL.createObjectURL(b.data),s(e),function(){e&&URL.revokeObjectURL(e)}}}),[b]),d?w(h.a,{color:p.F,size:"10px"}):m?w("div",null,i("common:error")):w("img",{className:o,src:u})})),x=t("5g36"),k=t("j/s1"),_=o.a.createElement,S=Object(k.c)(C).withConfig({displayName:"ImageChart__StyledImage",componentId:"sc-1a8fkmv-0"})([""," filter:brightness(",") contrast(",");"," object-fit:",";flex-shrink:1;"],Object(p.K)("100%"),(function(e){var n;return null!==(n=e.brightness)&&void 0!==n?n:1}),(function(e){var n;return null!==(n=e.contrast)&&void 0!==n?n:1}),Object(p.P)("filter"),(function(e){return e.fit?"contain":"scale-down"})),N=function(e){var n=e.brightness,t=e.contrast,a=e.fit,r=Object(m.a)(e,["brightness","contrast","fit"]),o=Object(c.useCallback)((function(e,r){return _(S,{src:r,cache:3e5,ref:e,brightness:n,contrast:t,fit:a})}),[n,t,a]);return _(x.a,Object(b.a)({type:"image",cache:3e5,content:o},r))},R=t("1HTM"),E=t("0KuU"),I=t("ypiw"),H=t("C34g"),F=t("t2fH"),P=o.a.createElement,T={height:Object(p.H)(406)},L=function(){var e=Object(r.g)(["sample","common"]).t,n=Object(c.useState)(!0),t=n[0],b=n[1],m=Object(F.a)("image",t),g=m.runs,p=m.tagsWithSingleRun,d=m.selectedRuns,h=m.onChangeRuns,v=m.loadingRuns,j=m.loadingTags,O=Object(c.useState)(!1),y=O[0],w=O[1],C=Object(c.useState)(1),x=C[0],k=C[1],_=Object(c.useState)(1),S=_[0],L=_[1],z=Object(c.useMemo)((function(){return g.length?P(E.a,{runs:g,selectedRuns:d,onChangeRuns:h,running:t,onToggleRunning:b},P(i.a,null,P(l.a,{value:y,onChange:w},e("sample:show-actual-size"))),P(i.a,null,P(f.a,{label:e("sample:brightness")},P(I.a,{min:0,max:2,step:.01,value:x,onChange:k}))),P(i.a,null,P(f.a,{label:e("sample:contrast")},P(I.a,{min:0,max:2,step:.01,value:S,onChange:L})))):null}),[e,x,S,h,t,g,d,y]),M=Object(c.useCallback)((function(e){var n=e.run,a=e.label;return P(N,{run:n,tag:a,fit:!y,running:t,brightness:x,contrast:S})}),[y,t,x,S]);return P(o.a.Fragment,null,P(R.a,{url:"/runs"}),P(R.a,{url:"/image/tags"}),P(H.a,null,e("common:sample")," - ",e("common:image")),P(u.a,{aside:z,loading:v},v||g.length?P(a.a,{items:p,chartSize:T,withChart:M,loading:v||j}):P(s.a,null)))};L.getInitialProps=function(){return{namespacesRequired:["sample","common"]}};n.default=L},ypiw:function(e,n,t){"use strict";var a=t("ERkP"),r=t.n(a),c=t("r8eb"),o=t("pG0O"),i=t("vM3x"),l=t.n(i),u=t("lXyp"),s=t("j/s1"),f=r.a.createElement,b=s.c.div.withConfig({displayName:"Slider__Wrapper",componentId:"iufmwa-0"})(["display:flex;align-items:center;"]),m=s.c.input.withConfig({displayName:"Slider__Input",componentId:"iufmwa-1"})(["",";line-height:",";display:inline-block;outline:none;padding:",";"," border:none;border-bottom:1px solid ",";text-align:center;&:hover,&:focus{border-bottom-color:",";}"],Object(c.K)(o.b,Object(c.H)(52)),o.b,o.c,Object(c.P)("border-color"),c.g,c.h),g=Object(s.c)(u.a).withConfig({displayName:"Slider__FullWidthRangeSlider",componentId:"iufmwa-2"})(["flex-grow:1;margin-right:",";"],Object(c.H)(20));n.a=function(e){var n=e.onChange,t=e.onChangeComplete,r=e.value,c=e.min,o=e.max,i=e.step,u=Object(a.useCallback)((function(e){return new l.a(e).dividedBy(i).integerValue(l.a.ROUND_HALF_UP).multipliedBy(i).toNumber()}),[i]),s=Object(a.useState)(u(r)),p=s[0],d=s[1],h=Object(a.useState)(p+""),v=h[0],j=h[1],O=Object(a.useCallback)((function(e){var t=u(e);j(t+""),d(t),null===n||void 0===n||n(t)}),[u,n]),y=Object(a.useCallback)((function(e){j(e);var a=Number.parseFloat(e);if(!(a<c||a>o||Number.isNaN(a))){var r=u(a);d(r),null===n||void 0===n||n(r),null===t||void 0===t||t(r)}}),[n,t,c,o,u]),w=Object(a.useCallback)((function(){j(p+"")}),[p]);return f(b,null,f(g,{min:c,max:o,step:i,value:p,onChange:O,onChangeComplete:function(){return null===t||void 0===t?void 0:t(p)}}),f(m,{type:"text",value:v,onChange:function(e){return y(e.currentTarget.value)},onBlur:w,onKeyDown:function(e){return"Enter"===e.key&&w()}}))}}},[["ZF4y",1,2,3,4,14,0,5,6,7,8,9,10]]]);