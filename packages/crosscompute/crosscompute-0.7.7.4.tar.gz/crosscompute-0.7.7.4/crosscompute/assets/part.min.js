function import_upload(e,r,t,o){var a=$(e.target),n=a.next(".feedback"),s=a.data("name"),l=$("#"+s);n.text("Loading... Large uploads can take some time to process"),$.post(t,{upload_id:r.upload_id,argument_name:s}).fail(function(e){n.addClass("error").html(e.responseJSON[s])}).success(function(e){n.removeClass("error").text(""),l.html(e),$("[name="+s+"]").val(r.upload_id),o&&o(n,l)})}!function(){IR.users||$(".btn-file").enable();var e=$("form.result");if(e.length){var r=$("#run-tool-options"),t=r.find(".btn-run"),o=$("div.result");e.submit(function(e){e.preventDefault()}),t.click(function(){var o=t.prop("disabled",!0),a=e.trigger("updated.cc"),n=o.text();o.text("Running..."),$(".control-label").removeClass("error").find(".feedback").remove();var s=get_form_dictionary(r);s.x=get_form_json(a),$.ajax({type:"post",url:CC.tool_json_url,data:s,error:function(e){var r=e.responseJSON;for(k in r){var t=$("[name="+k+"]");t.length&&t.parents(".form-group").find(".control-label").first().addClass("error").append('<span class="feedback">[ '+r[k].toUpperCase()+" ]</span>")}a.trigger("failed.cc",e),o.prop("disabled",!1).text(n)},success:function(e){a.trigger("succeeded.cc",e),location.href=e.result_url}})}),o.length&&setTimeout(function(){var e=o.offset();scrollTo(e.left,e.top)},1)}$('[data-toggle="popover"]').popover({trigger:"click hover focus"})}();
